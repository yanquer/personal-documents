### 重定向

**文件描述符**

当执行shell命令时，会默认打开3个文件，每个文件有对应的文件描述符来方便我们使用：

| 类型                    | 文件描述符 | 默认情况        | 对应文件句柄位置        |
|:--------------------- |:----- |:----------- |:--------------- |
| 标准输入（standard input）  | 0     | 从键盘获得输入     | /proc/self/fd/0 |
| 标准输出（standard output） | 1     | 输出到屏幕（即控制台） | /proc/self/fd/1 |
| 错误输出（error output）    | 2     | 输出到屏幕（即控制台） | /proc/self/fd/2 |

所以我们平时在执行shell命令中，都默认是从键盘获得输入，并且将结果输出到控制台上。但是我们可以通过更改文件描述符默认的指向，从而实现输入输出的重定向。比如我们将1指向文件，那么标准的输出就会输出到文件中。

**输出重定向**

输出重定向的使用方式很简单，基本的一些命令如下：

| 命令                  | 介绍            |
|:------------------- |:------------- |
| command >filename   | 把标准输出重定向到新文件中 |
| command 1>filename  | 同上            |
| command >>filename  | 把标准输出追加到文件中   |
| command 1>>filename | 同上            |
| command 2>filename  | 把标准错误重定向到新文件中 |
| command 2>>filename | 把标准错误追加到新文件中  |

我们使用>或者>>对输出进行重定向。符号的左边表示文件描述符，如果没有的话表示1，也就是标准输出，符号的右边可以是一个文件，也可以是一个输出设备。当使用>时，会判断右边的文件存不存在，如果存在的话就先删除，然后创建一个新的文件，不存在的话则直接创建。但是当使用>>进行追加时，则不会删除原来已经存在的文件。

（这里>的创建只能创建在已经存在的目录下，目录不存在则报错）

**输入重定向**

在理解了输出重定向之后，理解输入重定向就会容易得多。对输入重定向的基本命令如下：

| 命令                   | 介绍                        |
|:-------------------- |:------------------------- |
| command <filename    | 以filename文件作为标准输入         |
| command 0<filename   | 同上                        |
| command <<delimiter  | 从标准输入中读入，直到遇到delimiter分隔符 |
| command <<<delimiter | 从标准输入中读入变量                |

我们使用<对输入做重定向，如果符号左边没有写值，那么默认就是0。
