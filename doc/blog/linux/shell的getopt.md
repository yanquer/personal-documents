
### getopt

```tex
选项字符串
    "a:b:cd::e"，这就是一个选项字符串。对应到命令行就是-a ,-b ,-c ,-d, -e 。冒号又是什么呢？ 冒号表示参数，一个冒号就表示这个选项后面必须带有参数（没有带参数会报错哦），但是这个参数可以和选项连在一起写，也可以用空格隔开，比如-a123 和-a   123（中间有空格） 都表示123是-a的参数；两个冒号的就表示这个选项的参数是可选的，即可以有参数，也可以没有参数，但要注意有参数时，参数与选项之间不能有空格（有空格会报错的哦），这一点和一个冒号时是有区别的。
-----------------------------------------------------------------------------------------
    -o或--options选项后面是可接受的短选项，如ab:c::，表示可接受的短选项为-a -b -c，其中-a选项不接参数，-b选项后必须接参数，-c选项的参数为可选的
    -l或--long选项后面是可接受的长选项，用逗号分开，冒号的意义同短选项。
    -n选项后接选项解析错误时提示的脚本名字
```

**常用参数：**

| option | res                          |
| ------ | ---------------------------- |
| -a     | 允许长选项以单个字符”-“开始              |
| -n     | 指定一个程序，供getopt(3)函数输出错误信息时使用 |
| -o     | 识别单字符的短选项                    |
| -q     | 禁止输出错误信息                     |
| -l     | 识别多字符的长选项                    |



### 自己写过的一个例子

```shell
#sh ./test.sh -l --warn ww --error ee --info ii --fatal ff

ARGS=getopt -l warn:,error:,info:,fatal: -- "@"
eval set -- "${ARGS}"

while true
do
    case "$1" in
        --warn)
            echo "warn: i am $2"
            shift 2
            ;;
        --error)
            echo "error: i am $2"
            shift 2
            ;;
        --info)
            echo "info: i am $2"
            shift 2
            ;;
        --fatal)
            echo "fatal: i am $2"
            shift 2
            ;;
        --)
            shift
            break
            ;;
        *)
            echo "error---$1 $2"
            break
            ;;
    esac
down
```
