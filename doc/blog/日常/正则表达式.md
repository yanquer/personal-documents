#正则表达式




##### 字符表示

######  普通字符

- [...]		匹配 [...]中的所有字符
- [^...]	匹配除了 [...]中的所有字符
- \s	匹配所有的空白字符，包括换行
- \S	匹配所有空白符，不包括换行 
- \w	匹配字母、数字、下划线。等价于[A-Za-z0-9]



| 字符   | 描述                                                         |
| :----- | :----------------------------------------------------------- |
| [ABC]  | 匹配 **[...]** 中的所有字符，例如 **[aeiou]** 匹配字符串 "google runoob taobao" 中所有的 e o u a 字母。 |
| [^ABC] | 匹配除了 **[...]** 中字符的所有字符，例如 **[^aeiou]** 匹配字符串 "google runoob taobao" 中除了 e o u a 字母的所有字母。 |
| [A-Z]  | [A-Z] 表示一个区间，匹配所有大写字母，[a-z] 表示所有小写字母。 |
| .      | 匹配除换行符（\n、\r）之外的任何单个字符，相等于 [^\n\r]。 |
| [\s\S] | 匹配所有。\s 是匹配所有空白符，包括换行，\S 非空白符，不包括换行。 |
| \w     | 匹配字母、数字、下划线。等价于 [A-Za-z0-9_] |



##### 非打印字符

| 字符 | 描述                                                         |
| :--- | :----------------------------------------------------------- |
| \cx  | 匹配由x指明的控制字符。例如， \cM 匹配一个 Control-M 或回车符。x 的值必须为 A-Z 或 a-z 之一。否则，将 c 视为一个原义的 'c' 字符。 |
| \f   | 匹配一个换页符。等价于 \x0c 和 \cL。                         |
| \n   | 匹配一个换行符。等价于 \x0a 和 \cJ。                         |
| \r   | 匹配一个回车符。等价于 \x0d 和 \cM。                         |
| \s   | 匹配任何空白字符，包括空格、制表符、换页符等等。等价于 [ \f\n\r\t\v]。注意 Unicode 正则表达式会匹配全角空格符。 |
| \S   | 匹配任何非空白字符。等价于 [^ \f\n\r\t\v]。                  |
| \t   | 匹配一个制表符。等价于 \x09 和 \cI。                         |
| \v   | 匹配一个垂直制表符。等价于 \x0b 和 \cK。                     |




#### 特殊字符

一些有特殊含义的字符
若要匹配这些特殊字符，必须首先使字符"转义"，即，将反斜杠字符\ 放在它们前面。


| 特别字符 | 描述                                                         |
| :------- | :----------------------------------------------------------- |
| $        | 匹配输入字符串的结尾位置。如果设置了 RegExp 对象的 Multiline 属性，则 $ 也匹配 '\n' 或 '\r'。要匹配 $ 字符本身，请使用 \$。 |
| ( )      | 标记一个子表达式的开始和结束位置。子表达式可以获取供以后使用。要匹配这些字符，请使用 \( 和 \)。 |
| *        | 匹配前面的子表达式零次或多次。要匹配 * 字符，请使用 \*。     |
| +        | 匹配前面的子表达式一次或多次。要匹配 + 字符，请使用 \+。     |
| .        | 匹配除换行符 \n 之外的任何单字符。要匹配 . ，请使用 \. 。    |
| [        | 标记一个中括号表达式的开始。要匹配 [，请使用 \[。            |
| ?        | 匹配前面的子表达式零次或一次，或指明一个非贪婪限定符。要匹配 ? 字符，请使用 \?。 |
| \        | 将下一个字符标记为或特殊字符、或原义字符、或向后引用、或八进制转义符。例如， 'n' 匹配字符 'n'。'\n' 匹配换行符。序列 '\\' 匹配 "\"，而 '\(' 则匹配 "("。 |
| ^        | 匹配输入字符串的开始位置，除非在方括号表达式中使用，当该符号在方括号表达式中使用时，表示不接受该方括号表达式中的字符集合。要匹配 ^ 字符本身，请使用 \^。 |
| {        | 标记限定符表达式的开始。要匹配 {，请使用 \{。                |
| \|       | 指明两项之间的一个选择。要匹配 \|，请使用 \|。               |



##### 限定符

限定符用来指定正则表达式的一个给定组件必须要出现多少次才能满足匹配。有 * 或 **+** 或 **?** 或 **{n}** 或 **{n,}** 或 **{n,m}** 共6种。

正则表达式的限定符有：

| 字符  | 描述                                                         |
| :---- | :----------------------------------------------------------- |
| *     | 匹配前面的子表达式零次或多次。例如，zo* 能匹配 "z" 以及 "zoo"。* 等价于{0,}。 |
| +     | 匹配前面的子表达式一次或多次。例如，'zo+' 能匹配 "zo" 以及 "zoo"，但不能匹配 "z"。+ 等价于 {1,}。 |
| ?     | 匹配前面的子表达式零次或一次。例如，"do(es)?" 可以匹配 "do" 、 "does" 中的 "does" 、 "doxy" 中的 "do" 。? 等价于 {0,1}。 |
| {n}   | n 是一个非负整数。匹配确定的 n 次。例如，'o{2}' 不能匹配 "Bob" 中的 'o'，但是能匹配 "food" 中的两个 o。 |
| {n,}  | n 是一个非负整数。至少匹配n 次。例如，'o{2,}' 不能匹配 "Bob" 中的 'o'，但能匹配 "foooood" 中的所有 o。'o{1,}' 等价于 'o+'。'o{0,}' 则等价于 'o*'。 |
| {n,m} | m 和 n 均为非负整数，其中n <= m。最少匹配 n 次且最多匹配 m 次。例如，"o{1,3}" 将匹配 "fooooood" 中的前三个 o。'o{0,1}' 等价于 'o?'。请注意在逗号和两个数之间不能有空格。 |


### 正则表达式Linux

> 正则表达式(regular expression)描述了一种字符串匹配的模式（pattern），可以用来检查一个串是否含有某种子串、将匹配的子串替换或者从某个串中取出符合某个条件的子串等。

​    字符类：

```shell
.                #任意一个字符
[]                #匹配括号中的一个字符
-                #括号内表示范围
^                #位于括号内开头表示不匹配括号内的 [^0-3] 非（0到3）之间
[[:xxx:]]        #grep工具预定义的一些命令字符类
```

​    数量限定符

```shell
?                #匹配0或者1次
+                #前一个单元匹配一次或者多次
*                #匹配前一个单元0次或多次
{N}                #前一个单元匹配N次
{N,}            #前一个单元至少匹配N次
{,M}            #前一个单元最多匹配M次
{N,M}            #前一个单元匹配N至M次
```

​    注意 grep 找的是包含某个模式的行，而非完全匹配。

​    位置限定符：

```shell
^                #匹配行首的位置
$                #匹配行末的位置
\<                #匹配单词开头的位置
\>                #匹配单词结尾的位置
\b                #匹配以单词开头或者结尾的位置
\B                #匹配非该单词开头和结尾的位置，与\b相反
```

​    其他特殊字符：

```shell
\                #转义字符，特殊与普通字符相互转换
()                #将正则表达式的部分括起来表示一个单元
|                #连接两个子表达式表示或的关系
```

**正则表达式的模式**

​    基础正则表达式(Basic)

​    扩展正则表达式(extended)

​    Perl正则表达式(Perl)

区别：

​    基础正则和扩展正则的规范基本相同，只是在Basic规范下，有些字符 ?、+、{}、()、| 解释为普通字符，要表示

特殊含义需要加 \ 进行转义。

​    在Extended规范下，这些符号被解释为特殊含义，要取其字面值，也要对其进行 \ 转义。

​    其他常用通用字符集及其替换

| 符号  | 替换正则        | 匹配             |
| --- | ----------- | -------------- |
| \d  | [0-9]       | 数字字符           |
| \D  | [^0-9]      | 非数字字符          |
| \w  | [a-zA-Z0-9] | 数字、字母、下划线      |
| \W  | [^\w]       | 非数字、字母、下划线     |
| \s  | [_\r\t\n\f] | 回车、换行、制表符等空白区域 |
| \S  | [^\s]       | 非空白区域          |

**贪婪模式与非贪婪模式**

​    我们知道，grep 默认的就是贪婪匹配，会将一行中所有满足正则的全部匹配出来。

​    而非贪婪模式是一旦发现匹配符合要求，立马匹配成功，而不会继续匹配下去（除非有g，开启下一组匹配）

**零宽断言**

​    用于指定一个位置，这个位置应该满足一定的条件。

​    1.零宽度正预测

​        (?=正则表达式)

​        正则表达式所处位置之前，不包括正则表达式指定的位置的单元。

​    2.零宽度正后顾后发断言

​        (?<=正则表达式)

​        正则表达式所处位置之后，不包括正则表达式指定的位置的单元。

**grep常用选项**

```shell
-E                #在扩展正则模式下
-P                #在Perl正则模式下
-V                #将不匹配的过滤出来
-r/-R            #递归查找
-q                #安静模式，不在屏幕上输出
-i                #忽略大小写
-n                #增加行号
-o                #只输出文件中匹配到的部分

--color            #红色输出吧
```


### 正则表达式

主要是回顾一下，有些忘了

新写一个吧 这个太多了 打开有点卡

参考：

[正则表达式 - 语法](https://www.runoob.com/regexp/regexp-syntax.html)

